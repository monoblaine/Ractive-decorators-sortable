var sortableDecorator=function(a,b){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("Ractive"));else if("function"==typeof define&&define.amd)define(["Ractive"],b);else{if(!a.Ractive)throw new Error("Could not find Ractive! It must be loaded before the Ractive-decorators-sortable plugin");b(a.Ractive)}}("undefined"!=typeof window?window:this,function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l=[],m=function(a){return l.find(function(b){return b.draggableNode===a}).nodeToMove};return b=function(a,b,c,d){var e,j;return null!=b?(e=a,j=a.querySelector(b)):e=j=a,l.push({nodeToMove:e,draggableNode:j}),e.dataset.targetClass=c||"droptarget",k=d,a=j,a.draggable=!0,a.addEventListener("dragstart",f,!1),a.addEventListener("dragend",h,!1),a.addEventListener("dragenter",g,!1),a.addEventListener("dragover",i,!1),a.addEventListener("drop",h,!1),{teardown:function(){a.removeEventListener("dragstart",f,!1),a.removeEventListener("dragend",h,!1),a.removeEventListener("dragenter",g,!1),a.removeEventListener("dragover",i,!1),a.removeEventListener("drop",h,!1)}}},j="The sortable decorator only works with elements that correspond to array members",f=function(b){var f=m(this),g=a.getContext(f);if(d=g.resolve(),e=g.resolve("../"),!Array.isArray(g.get("../")))throw new Error(j);b.dataTransfer.setData("foo",!0),c=g.ractive,b.stopPropagation()},g=function(b){var f,g,h,i,j,l=m(this);if(b.preventDefault(),j=a.getContext(l),j.ractive===c&&(f=j.resolve(),g=j.resolve("../"),g===e)){if(f===d)return void l.classList.add(l.dataset.targetClass);b.dataTransfer.dropEffect="move",i=c.get(d),h=a.splitKeypath(d),c.splice(g,h[h.length-1],1),d=f,h=a.splitKeypath(d),c.splice(g,h[h.length-1],0,i),null!=k&&c.fire(k,j,h)}},h=function(a){var b=m(this);b.classList.remove(b.dataset.targetClass),a.stopPropagation()},i=function(a){a.stopPropagation(),a.preventDefault()},a.decorators.sortable=b,b});"undefined"!=typeof module&&module.exports&&(module.exports=sortableDecorator);